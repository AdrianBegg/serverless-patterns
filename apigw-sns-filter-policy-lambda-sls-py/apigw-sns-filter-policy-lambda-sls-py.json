{
    "title": "REST API via API Gateway, acting as SNS proxy with SNS Filter Policy",
    "description": "REST API via API Gateway as an SNS proxy, triggering Lambda functions with MessageBody filtering.",
    "language": "Python",
    "level": "200",
    "framework": "Serverless Framework",
    "introBox": {
        "headline": "How it works",
        "text": [
            "This pattern leverages the Serverless Framework to deploy a REST API via Amazon API Gateway, functioning as an Amazon SNS proxy. It incorporates SNS Filter Policy for triggering Lambda functions based on MessageBody filters. Additionally, it enables CloudWatch Logs and X-Ray tracing for both API Gateway and Lambda through the Powertools for AWS Lambda developer toolkit."
        ]
    },
    "gitHub": {
        "template": {
            "repoURL": "https://github.com/aws-samples/serverless-patterns/tree/main/apigw-sns-filter-policy-lambda-sls-py",
            "templateURL": "serverless-patterns/apigw-sns-filter-policy-lambda-sls-py",
            "projectFolder": "apigw-sns-filter-policy-lambda-sls-py",
            "templateFile": "serverless.yml"
        }
    },
    "resources": {
        "bullets": [
            {
                "text": "AWS CLI",
                "link": "https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html"
            },
            {
                "text": "Python 3",
                "link": "https://www.python.org/downloads/"
            },
            {
                "text": "Serverless Framework",
                "link": "https://www.serverless.com/framework/docs"
            },
            {
                "text": "Serverless Framework Plugins",
                "link": "https://www.serverless.com/plugins"
            },
            {
                "text": "Powertools for AWS Lambda (Python)",
                "link": "https://docs.powertools.aws.dev/lambda/python/latest/"
            },
            {
                "text": "Amazon SNS message filtering",
                "link": "https://docs.aws.amazon.com/sns/latest/dg/sns-message-filtering.html"
            }
        ]
    },
    "deploy": {
        "text": [
            "sls deploy --verbose"
        ]
    },
    "testing": {
        "text": [
            "See the GitHub repo for detailed testing instructions."
        ]
    },
    "cleanup": {
        "text": [
            "Delete the stack: <code>sls remove --verbose</code>."
        ]
    },
    "authors": [
        {
            "name": "Balasubrahmanya Balakrishna",
            "image": "https://github.com/bb245/balabala/blob/main/balabala.png",
            "bio": "Senior Lead Software Engineer, Capital One Services, LLC.",
            "linkedin": "bala~bala"
        }
    ],
    "patternArch": {
        "icon1": {
            "x": 20,
            "y": 50,
            "service": "apigw",
            "label": "API Gateway REST API"
        },
        "icon2": {
            "x": 50,
            "y": 50,
            "service": "sns",
            "label": "SNS"
        },
        "icon3": {
            "x": 80,
            "y": 30,
            "service": "lambda",
            "label": "Lambda function"
        },
        "icon4": {
            "x": 80,
            "y": 70,
            "service": "lambda",
            "label": "Lambda function"
        },
        "line1": {
            "from": "icon1",
            "to": "icon2",
            "label": ""
        },
        "line2": {
            "from": "icon2",
            "to": "icon3",
            "label": "filter policy"
        },
        "line3": {
            "from": "icon2",
            "to": "icon4",
            "label": "filter policy"
        }
    }
}
